// Generated by CoffeeScript 1.10.0
(function() {
  var Button, Light, Objekt, Photon, Room, map, photon;

  map = require('../src/modules/base');

  Objekt = map.Objekt;

  Room = map.Room;

  Light = map.Light;

  Button = map.Button;

  Photon = require('../src/photon');

  photon = new Photon();

  console.log('# Running script #');

  photon.connect().then(function() {
    console.log('Connected!');
    new Room('bedroom', photon);
    new Button(null, photon);
    new Light('test', photon);
    Objekt.get('test').set('brightness', 20);
    Button.get().on('pushed', function() {
      Objekt.get('test').set('color', 'blue');
      return setTimeout(function() {
        return Objekt.get('test').set('color', 'red');
      }, 1000);
    });
    Objekt.get('bedroom').on('dark', function() {
      return Objekt.get('test').set('brightness', 200);
    });
    return Objekt.get('bedroom').on('light', function() {
      return Objekt.get('test').set('brightness', 20);
    });
  });

}).call(this);
